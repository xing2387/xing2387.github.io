<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>xing2387.github.io</title><meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="xing2387's blog"><meta name=author content="Me"><link rel=canonical href=https://xing2387.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.d9015f4cb657fd3539b79b29ffbd11de4175ccd105ad7591beffaadfafb48488.css integrity="sha256-2QFfTLZX/TU5t5sp/70R3kF1zNEFrXWRvv+q36+0hIg=" rel="preload stylesheet" as=style><link rel=icon href=https://xing2387.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://xing2387.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://xing2387.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://xing2387.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://xing2387.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.68.3"><link rel=alternate type=application/rss+xml href=https://xing2387.github.io/index.xml><meta property="og:title" content="xing2387.github.io"><meta property="og:description" content="xing2387's blog"><meta property="og:type" content="website"><meta property="og:url" content="https://xing2387.github.io/"><meta property="og:image" content="https://xing2387.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="xing2387"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://xing2387.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="xing2387.github.io"><meta name=twitter:description content="xing2387's blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"xing2387.github.io","url":"https://xing2387.github.io/","description":"xing2387\u0026#39;s blog","thumbnailUrl":"https://xing2387.github.io/%3Clink%20/%20abs%20url%3E","sameAs":["https://twitter.com/","https://stackoverflow.com","https://github.com/"]}</script></head><body class=list id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: #1d1e20;--entry: #2e2e33;--primary: rgba(255, 255, 255, 0.84);--secondary: rgba(255, 255, 255, 0.56);--tertiary: rgba(255, 255, 255, 0.16);--content: rgba(255, 255, 255, 0.74);--hljs-bg: #2e2e33;--code-bg: #37383e;--border: #333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://xing2387.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://xing2387.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://xing2387.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://example.org title=example.org><span>example.org</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there ğŸ‘‹</h1></header><section class=entry-content><p>Welcome to my blog</p></section><footer class=entry-footer><div class=social-icons><a href=https://twitter.com/ target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://stackoverflow.com target=_blank rel="noopener noreferrer me" title=Stackoverflow><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.913 16.041v6.848h17.599v-6.848M7.16 18.696h8.925M7.65 13.937l8.675 1.8M9.214 9.124l8.058 3.758M12.086 4.65l6.849 5.66M15.774 1.111l5.313 7.162" /></svg></a><a href=https://github.com/ target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2>[seafile-selfbuild] 5. è®¾ç½®å¼€æœºå¯åŠ¨(bananapro+lubuntu16.04)</h2></header><section class=entry-content><p>å¼€æœºå¯åŠ¨ å¯åŠ¨è„šæœ¬
/root/bin/restartSeafile.sh æ–‡ä»¶ï¼š
#! /bin/bash #æ€å­˜åœ¨çš„è¿›ç¨‹ pkill seaf-server ps -ef |grep seahub | awk '{print $2}' | xargs kill -9 #ç­‰mysqlå¯ç”¨ï¼Œå¯åŠ¨seafile-server i=0 while [ $i -le 10 ]; do sleep 3; if [[ -e /var/run/mysqld/mysqld.sock ]]; then /usr/local/bin/seaf-server -c /root/dev/conf -d /root/dev/seafile-data -D all -f & break; fi let i=$i+1; done sleep 2 #å¯åŠ¨seahubï¼Œè¦ç­‰ä¸€ä¸¤åˆ†é’Ÿæ‰èƒ½èµ·æ¥ export PYTHONPATH=/home/bananapi/.local/lib/python3.6/site-packages/:/usr/local/lib/python3.6/site-packages/:/root/dev/source-code/seahub/thirdpart:$PYTHONPATH export CCNET_CONF_DIR=/root/dev/conf export SEAFILE_CONF_DIR=/root/dev/seafile-data export SEAFILE_CENTRAL_CONF_DIR=/root/dev/conf python3 /root/dev/source-code/seahub/manage.py runserver 0.0.0.0:8000 & /root/bin/stopSeafile....</p></section><footer class=entry-footer>July 1, 2021&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [seafile-selfbuild] 5. è®¾ç½®å¼€æœºå¯åŠ¨(bananapro+lubuntu16.04)" href=https://xing2387.github.io/posts/seafile/5.-%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/></a></article><article class=post-entry><header class=entry-header><h2>[seafile-selfbuild] 4. FUSE extensionæ–‡æ¡£</h2></header><section class=entry-content><p>FUSE extension ç¼–è¯‘seafile-serverçš„æ—¶å€™ï¼Œå»æ‰configureçš„â€“disable-fuseå‚æ•°ï¼Œä¼šå¤šä¸ªseaf-fuseæ–‡ä»¶ã€‚
å®˜æ–¹æ–‡æ¡£ https://github.com/haiwen/seafile-admin-docs/blob/master/manual/extension/fuse.md
Files in the seafile system are split to blocks, which means what are stored on your seafile server are not complete files, but blocks. This design faciliates effective data deduplication.
However, administrators sometimes want to access the files directly on the server. You can use seaf-fuse to do this.
seaf-fuse is an implementation of the FUSE virtual filesystem. In a word, it mounts all the seafile files to a folder (which is called the â€˜â€˜â€˜mount pointâ€™''), so that you can access all the files managed by seafile server, just as you access a normal folder on your server....</p></section><footer class=entry-footer>July 1, 2021&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [seafile-selfbuild] 4. FUSE extensionæ–‡æ¡£" href=https://xing2387.github.io/posts/seafile/4.-fuse-extension/></a></article><article class=post-entry><header class=entry-header><h2>[seafile-selfbuild] 3. å®‰è£…ç¼–è¯‘å¥½çš„æœåŠ¡ç«¯(bananapro+lubuntu16.04)</h2></header><section class=entry-content><p>bananapro - lubuntu16.04 å®‰è£… ä½¿ç”¨ â€œdocker ç¼–è¯‘armç‰ˆâ€ ç¼–è¯‘å¥½çš„æ–‡ä»¶å®‰è£… tar -zxf seafile_arm_install.tar.gz #å¾—åˆ°usrç›®å½• sudo cp -r usr / å®‰è£…ä¾èµ–åŒ… apt-get install -y ssh libevent-dev libcurl4-openssl-dev libglib2.0-dev uuid-dev intltool libsqlite3-dev libmysqlclient-dev libarchive-dev libtool libjansson-dev valac libfuse-dev python-dateutil cmake re2c flex sqlite3 python-pip python-simplejson git libssl-dev libldap2-dev libonig-dev vim vim-scripts wget cmake gcc autoconf automake mysql-client librados-dev libxml2-dev curl sudo telnet netcat unzip netbase ca-certificates apt-transport-https build-essential libxslt1-dev libffi-dev libpcre3-dev libz-dev xz-utils nginx pkg-config poppler-utils libmemcached-dev sudo å¿½ç•¥å®‰è£…nginxçš„é”™è¯¯...</p></section><footer class=entry-footer>July 1, 2021&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [seafile-selfbuild] 3. å®‰è£…ç¼–è¯‘å¥½çš„æœåŠ¡ç«¯(bananapro+lubuntu16.04)" href=https://xing2387.github.io/posts/seafile/3.-bananapro-lubuntu16.04%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E5%A5%BD%E7%9A%84seafile/></a></article><article class=post-entry><header class=entry-header><h2>[seafile-selfbuild] 2. seafile-selfbuild: dockerä¸‹ç¼–è¯‘armç‰ˆ</h2></header><section class=entry-content><p>docker ç¼–è¯‘armç‰ˆ dockerè¿è¡Œarmé•œåƒ å®‰è£…qemuï¼š
sudo apt install qemu-user-static ä¸‹è½½å¹¶è¿è¡Œé•œåƒï¼š
docker run -itd --name seafileArm arm32v7/ubuntu:18.04 docker container update --cpuset-cpus="0,1,2,3,4,5,6,7" seafileArm docker container update -m 8g seafileArm docker stop seafileArm docker start seafileArm && docker attach seafileArm docker containerä¿®æ”¹ip
#åˆ›å»ºç½‘æ®µ sudo docker network create --subnet 172.18.0.0/24 --gateway 172.18.0.1 mynet #å°†containeræ·»åŠ åˆ°è¿™ä¸ªç½‘æ®µå¹¶è®¾ç½®ip docker network connect --ip=172.18.0.2 mydockernet seafileArm #åˆ é™¤containeré»˜è®¤çš„ip docker network disconnect bridge seafileArm ç…§ â€œoffcial build guideâ€ ï¼Œåœ¨dockerä¸‹ç¼–è¯‘ã€‚ ç¼–è¯‘å¥½åï¼Œä¿®æ”¹å®‰è£…è·¯å¾„ï¼Œå¾—åˆ°è¦å®‰è£…çš„æ–‡ä»¶...</p></section><footer class=entry-footer>July 1, 2021&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [seafile-selfbuild] 2. seafile-selfbuild: dockerä¸‹ç¼–è¯‘armç‰ˆ" href=https://xing2387.github.io/posts/seafile/2.-docker%E7%BC%96%E8%AF%91arm%E7%89%88/></a></article><article class=post-entry><header class=entry-header><h2>[seafile-selfbuild] 1. official build guide</h2></header><section class=entry-content><p>official build guide https://github.com/haiwen/seafile-admin-docs/blob/master/manual/build_seafile/server.md
8.0.0ç‰ˆ
This is the document for deploying Seafile open source development environment in Ubuntu 1804 docker container.
Run a container docker run -it -p 8000:8000 -p 8082:8082 -p 3000:3000 --name seafile-ce-env ubuntu:18.04 bash Note, the following commands are all executed in the seafile-ce-env docker container.
Update Source and Install Dependencies. apt-get update && apt-get upgrade -y apt-get install -y ssh libevent-dev libcurl4-openssl-dev libglib2.0-dev uuid-dev intltool libsqlite3-dev libmysqlclient-dev libarchive-dev libtool libjansson-dev valac libfuse-dev python-dateutil cmake re2c flex sqlite3 python-pip python-simplejson git libssl-dev libldap2-dev libonig-dev vim vim-scripts wget cmake gcc autoconf automake mysql-client librados-dev libxml2-dev curl sudo telnet netcat unzip netbase ca-certificates apt-transport-https build-essential libxslt1-dev libffi-dev libpcre3-dev libz-dev xz-utils nginx pkg-config poppler-utils libmemcached-dev sudo curl -sL &lt;https://deb....</p></section><footer class=entry-footer>July 1, 2021&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Me</footer><a class=entry-link aria-label="post link to [seafile-selfbuild] 1. official build guide" href=https://xing2387.github.io/posts/seafile/1.-official-build-guide/></a></article></main><footer class=footer><span>&copy; 2021 <a href=https://xing2387.github.io/>xing2387.github.io</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z" /></svg></button></a>
<script>let menu=document.getElementById('menu')
menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>